[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
symbolic-links=0
ft_min_word_len=1
##server_id=XXX
expire_logs_days=14
character-set-server=utf8mb4
collation-server=utf8mb4_general_ci
skip-character-set-client-handshake
sql_mode=''


#innodb
innodb-flush-log-at-trx-commit=2
innodb_file_format=Barracuda
innodb_flush_method=O_DIRECT
innodb_file_per_table
innodb_data_file_path=ibdata1:100M:autoextend
innodb_lock_wait_timeout =50
wait_timeout=30
log_bin=mysql-bin
binlog_format=STATEMENT
max_binlog_size=512M
long_query_time=1
slow_query_log=ON
slow_query_log_file=mysql-slow.log
log_output=FILE
default-storage-engine=innodb
lower_case_table_names=1

max_connection=400
max_connect_errors=99999999
connect_timeout=20

max_allowed_packet=16M
innodb_buffer_pool_size=2048M
innodb_log_buffer_size=16M
innodb_log_file_size=256M
innodb_additional_mem_pool_size=20M
innodb_thread_concurrency=16
innodb_commit_concurrency=8
thread_concurrency=10
thread_cache_size=400
query_cache_size=100
table_open_cache=64
key_buffer_size=64M
join_buffer_size=512k
read_buffer_size=512k
sort_buffer_size=1M

read_rnd_buffer_size=512k
[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
syslog
[client]
socket=/var/lib/mysql/mysql.sock
